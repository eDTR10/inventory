import{c as v,b as j,u as p,r,j as e,B as N,S as y,X as w}from"./index-ba517387.js";import{u as k,I as C}from"./input-53fec541.js";import{L as I}from"./LoginScreen-ba7a2a5a.js";import{C as L}from"./chevron-left-06868798.js";const S=v("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),P=()=>{const l=j(),{isAuthenticated:d,isLoading:m}=p(),{items:x,loading:u,error:i,initSheet:h,fetchItems:b}=k(),[g,n]=r.useState(!0),[s,o]=r.useState(""),c=r.useRef(!1);r.useEffect(()=>{if(c.current)return;c.current=!0,(async()=>{try{n(!0),await h(),await b()}catch(f){console.error("Failed to initialize:",f)}finally{n(!1)}})()},[]);const a=x.filter(t=>t.itemName.toLowerCase().includes(s.toLowerCase()));return m?e.jsx("div",{className:"flex items-center justify-center w-full min-h-screen bg-gradient-to-br from-white to-blue-50",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-8",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 border-r-blue-400 animate-spin"}),e.jsx("div",{className:"absolute inset-2 rounded-full border-4 border-transparent border-b-blue-500 animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full animate-pulse"})})]}),e.jsx("p",{className:"text-lg text-gray-700 font-bold",children:"Checking authentication..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait"})]})}):d?u||g?e.jsx("div",{className:"flex items-center justify-center w-full min-h-screen bg-gradient-to-br from-white to-blue-50",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-8",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 border-r-blue-400 animate-spin"}),e.jsx("div",{className:"absolute inset-2 rounded-full border-4 border-transparent border-b-blue-500 animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full animate-pulse"})})]}),e.jsx("p",{className:"text-lg text-gray-700 font-bold",children:"Loading inventory..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white to-blue-50 p-4 pb-8 relative overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl -mr-48 -mt-48"})}),e.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>l("/inventory/page1"),className:"gap-2 border-blue-200 bg-white hover:bg-blue-50 text-blue-600 transition-all",children:[e.jsx(L,{className:"w-4 h-4"}),"Back"]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Inventory Overview"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"View all items and their quantities"})]}),e.jsxs("div",{className:"mb-8 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(C,{type:"text",placeholder:"Search items...",value:s,onChange:t=>o(t.target.value),className:"w-full pl-10 pr-10 py-3 text-sm sm:text-base border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all bg-white"}),s&&e.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(w,{className:"w-5 h-5"})})]}),s&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:["Found ",a.length," item",a.length!==1?"s":""]})]}),i&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-300 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:i})}),a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:s?"No items found matching your search":"No items in inventory"})]}):e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2 lg:grid-cols-2 gap-4",children:a.map(t=>e.jsxs("div",{onClick:()=>l(`/inventory/item/${encodeURIComponent(t.itemName)}`),className:"bg-white rounded-xl shadow-md border border-blue-100 hover:shadow-lg hover:border-blue-300 transition-all cursor-pointer overflow-hidden group",children:[e.jsx("div",{className:"relative w-full h-40 sm:h-38 bg-blue-50 overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:t.itemName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-50",children:e.jsx("span",{className:"text-4xl",children:"ðŸ“¦"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 ",children:t.itemName}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide mb-1",children:"Quantity in Stock"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.quantity}),e.jsx("p",{className:"text-sm text-blue-500",children:"Units"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-3",children:"Click to adjust quantity"})]})]},t.id))})]})]}):e.jsx(I,{})};export{P as InventoryView,P as default};
